I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPHN0cmluZz4NCiNpbmNsdWRlIDxmc3RyZWFt
Pg0KDQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KDQppbnQgRGF0ZVBhcnNlcihzdHJpbmcgbW9udGgp
Ow0KDQppbnQgbWFpbigpIHsNCiAgICBzdHJpbmcgZGF0ZSA9ICIiLCB3b3JkOw0KICAgIHNpemVf
dCBmaXJzdFBvcywgc2Vjb25kUG9zOw0KICAgIGlmc3RyZWFtIGluRlM7DQogICAgY29uc3Qgc3Ry
aW5nIEZJTEUgPSAiZGF0ZXMudHh0IjsNCg0KICAgIGluRlMub3BlbihGSUxFKTsNCiAgICBpZiAo
IWluRlMuaXNfb3BlbigpKSB7DQogICAgICAgIGNvdXQgPDwgIkNhbm5vdCBvcGVuICIgPDwgRklM
RSA8PCBlbmRsOw0KICAgICAgICByZXR1cm4gMTsNCiAgICB9DQoNCiAgICB3aGlsZSAoIWluRlMu
ZW9mKCkgJiYgZGF0ZSAhPSAiLTEiKSB7DQogICAgICAgIGdldGxpbmUoaW5GUywgZGF0ZSk7DQoN
CiAgICAgICAgaWYgKGluRlMuZmFpbCgpKSB7DQogICAgICAgICAgICBjb250aW51ZTsNCiAgICAg
ICAgfQ0KICAgICAgICAvLyBmaW5kIGZpcnN0IHNwYWNlIHJlc3VsdCBpbiB0aGUgbW9udGgNCiAg
ICAgICAgZmlyc3RQb3MgPSBkYXRlLmZpbmQoJyAnKTsNCiAgICAgICAgc2Vjb25kUG9zID0gZGF0
ZS5maW5kKCcsJyk7IC8vIGludmFsaWQgaWYgaGFzIG5vIGNvbW1hDQogICAgICAgIGlmIChmaXJz
dFBvcyA9PSBzdHJpbmc6Om5wb3MgIHx8IHNlY29uZFBvcyA9PSBzdHJpbmc6Om5wb3MpIHsNCiAg
ICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwDQogICAgICAgIH0NCiAgICAgICAgLy8gZ290IHRo
ZSBtb250aCwgaXMgaXQgdmFsaWQ/DQogICAgICAgIHdvcmQgPSBkYXRlLnN1YnN0cigwLCBmaXJz
dFBvcyk7DQogICAgICAgIGludCBtb250aEludCA9IERhdGVQYXJzZXIod29yZCk7DQogICAgICAg
IC8vIGludmFsaWQNCiAgICAgICAgaWYgKG1vbnRoSW50ID09IDApIHsNCiAgICAgICAgICAgIGNv
bnRpbnVlOyAvLyBza2lwDQogICAgICAgIH0NCiAgICAgICAgLy8gZmluZCBuZXh0IHNwYWNlDQog
ICAgICAgIHNlY29uZFBvcyA9IGRhdGUuZmluZCgnICcsIGZpcnN0UG9zKzEpOw0KICAgICAgICBp
ZiAoc2Vjb25kUG9zID09IHN0cmluZzo6bnBvcykgew0KICAgICAgICAgICAgY29udGludWU7IC8v
IG1pc3NpbmcgZGF5ICYgeWVhcg0KICAgICAgICB9DQogICAgICAgIHdvcmQgPSBkYXRlLnN1YnN0
cihmaXJzdFBvcysxLCBzZWNvbmRQb3MpOw0KICAgICAgICBpbnQgZGF5SW50ID0gc3RvaSh3b3Jk
KTsNCiAgICAgICAgaWYgKGRheUludCA8IDEgfHwgZGF5SW50ID4gMzEpIHsNCiAgICAgICAgICAg
IGNvbnRpbnVlOyAvLyBub3QgY29ycmVjdCBkYXkNCiAgICAgICAgfQ0KDQogICAgICAgIHdvcmQg
PSBkYXRlLnN1YnN0cihzZWNvbmRQb3MrMSwgZGF0ZS5sZW5ndGgoKSAtIHNlY29uZFBvcyk7DQog
ICAgICAgIGludCB5ZWFySW50ID0gc3RvaSh3b3JkKTsNCiAgICAgICAgaWYgKHllYXJJbnQgPD0g
MCkgew0KICAgICAgICAgICAgY29udGludWU7IC8vIGludmFsaWQgeWVhcg0KICAgICAgICB9DQog
ICAgICAgIC8vIGdvdCBhbGwgaW5mbywgcHJpbnQgb3V0DQogICAgICAgIGNvdXQgPDwgbW9udGhJ
bnQgPDwgIi8iIDw8IGRheUludCA8PCAiLyIgPDwgeWVhckludCA8PCBlbmRsOw0KICAgIH0NCg0K
ICAgIGluRlMuY2xvc2UoKTsNCg0KICAgIHJldHVybiAwOw0KfQ0KDQppbnQgRGF0ZVBhcnNlcihz
dHJpbmcgbW9udGgpIHsNCiAgICBpbnQgbW9udGhJbnQgPSAwOw0KDQogICAgaWYgKG1vbnRoID09
ICJKYW51YXJ5IikNCiAgICAgICAgbW9udGhJbnQgPSAxOw0KICAgIGVsc2UgaWYgKG1vbnRoID09
ICJGZWJydWFyeSIpDQogICAgICAgIG1vbnRoSW50ID0gMjsNCiAgICBlbHNlIGlmIChtb250aCA9
PSAiTWFyY2giKQ0KICAgICAgICBtb250aEludCA9IDM7DQogICAgZWxzZSBpZiAobW9udGggPT0g
IkFwcmlsIikNCiAgICAgICAgbW9udGhJbnQgPSA0Ow0KICAgIGVsc2UgaWYgKG1vbnRoID09ICJN
YXkiKQ0KICAgICAgICBtb250aEludCA9IDU7DQogICAgZWxzZSBpZiAobW9udGggPT0gIkp1bmUi
KQ0KICAgICAgICBtb250aEludCA9IDY7DQogICAgZWxzZSBpZiAobW9udGggPT0gIkp1bHkiKQ0K
ICAgICAgICBtb250aEludCA9IDc7DQogICAgZWxzZSBpZiAobW9udGggPT0gIkF1Z3VzdCIpDQog
ICAgICAgIG1vbnRoSW50ID0gODsNCiAgICBlbHNlIGlmIChtb250aCA9PSAiU2VwdGVtYmVyIikN
CiAgICAgICAgbW9udGhJbnQgPSA5Ow0KICAgIGVsc2UgaWYgKG1vbnRoID09ICJPY3RvYmVyIikN
CiAgICAgICAgbW9udGhJbnQgPSAxMDsNCiAgICBlbHNlIGlmIChtb250aCA9PSAiTm92ZW1iZXIi
KQ0KICAgICAgICBtb250aEludCA9IDExOw0KICAgIGVsc2UgaWYgKG1vbnRoID09ICJEZWNlbWJl
ciIpDQogICAgICAgIG1vbnRoSW50ID0gMTI7DQogICAgcmV0dXJuIG1vbnRoSW50Ow0KfQ==